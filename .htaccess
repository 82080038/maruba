# Development .htaccess - Relaxed Security for Debugging

# Static Assets - Bypass PHP processing completely
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} -f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^assets/(.*)$ - [L]
RewriteRule ^App/public/assets/(.*)$ - [L]

# Front Controller - Route PHP requests to index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# PHP Handler
<FilesMatch "\.php$">
    SetHandler application/x-httpd-php
    AddHandler application/x-httpd-php .php
</FilesMatch>

# Development Error Display
php_flag display_errors On
php_flag log_errors On
php_value error_reporting E_ALL
php_value error_log /opt/lampp/htdocs/maruba/logs/php_errors.log

# Development PHP Settings
php_value memory_limit 512M
php_value max_execution_time 300
php_value upload_max_filesize 10M
php_value post_max_size 10M

# Basic Security (Development - Relaxed)
<IfModule mod_headers.c>
    # Header always set X-Frame-Options DENY
    # Header always set X-Content-Type-Options nosniff
    # Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# Force correct content types for assets
<FilesMatch "\.css$">
    ForceType text/css
    Header set Content-Type "text/css"
</FilesMatch>

<FilesMatch "\.js$">
    ForceType application/javascript
    Header set Content-Type "application/javascript"
</FilesMatch>

# Hide sensitive files
<FilesMatch "\.(env|log|conf|key|pem|crt|sql)$">
    Order allow,deny
    Deny from all
</FilesMatch>

<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>

# Development - Allow directory listing for debugging
Options +Indexes

# Development - No caching for immediate changes
<IfModule mod_expires.c>
    ExpiresActive Off
</IfModule>

# Development - No compression for debugging
<IfModule mod_deflate.c>
    # Disabled for development
</IfModule>
